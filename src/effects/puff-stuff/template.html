<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Puff Stuff Tunnel</title>
    <meta
      name="description"
      content="A WebGL ray marched tunnel effect with dynamic colors and styles"
    />
    <meta name="keywords" content="SignalRGB, tunnel, webgl, shader, effect" />
    <meta publisher="hyperb1iss" />

    <!-- Controls -->
    <meta
      property="speed"
      label="Animation Speed"
      type="number"
      min="1"
      max="10"
      default="5"
      tooltip="Controls the speed of the animation effect (1=Slow, 10=Fast)"
    />
    <meta
      property="colorShift"
      label="Color Shift"
      type="boolean"
      default="1"
      tooltip="Toggles additional color shifting effects"
    />
    <meta
      property="colorScheme"
      label="Color Scheme"
      type="combobox"
      values="Amethyst,Classic Blue,Coral Reef,Cyberpunk,Deep Sea,Electric,Emerald,Ethereal,Fire,Monochrome,Neon,Rainbow,Rose Gold,Sunset,Toxic,Vapor Wave"
      default="Classic Blue"
      tooltip="Select the color palette for the tunnel"
    />
    <meta
      property="effectStyle"
      label="Effect Style"
      type="combobox"
      values="Standard,Wireframe,Glitch,Hologram,Film Noir"
      default="Standard"
      tooltip="Choose the visual style of the effect"
    />
    <meta
      property="colorIntensity"
      label="Color Intensity"
      type="number"
      min="1"
      max="200"
      default="100"
      tooltip="Adjust the intensity of colors (0=Muted, 100=Normal, 200=Vibrant)"
    />
    <meta
      property="colorPulse"
      label="Color Pulse"
      type="number"
      min="0"
      max="10"
      default="0"
      tooltip="Add rhythmic color pulsing (0=Off, 10=Intense)"
    />
    <meta
      property="motionWave"
      label="Motion Wave"
      type="number"
      min="0"
      max="10"
      default="0"
      tooltip="Add wave distortion to the tunnel (0=None, 10=Maximum)"
    />
    <meta
      property="motionReverse"
      label="Reverse Direction"
      type="boolean"
      default="0"
      tooltip="Reverse the direction of tunnel movement"
    />
    <meta
      property="colorSaturation"
      label="Color Saturation"
      type="number"
      min="1"
      max="200"
      default="100"
      tooltip="Adjust the saturation level of colors (100=Normal, 200=Super Saturated)"
    />
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #000;
      }
      canvas {
        display: block;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <canvas id="exCanvas" width="320" height="200"></canvas>

    <script>
      // Simple log helper
      function log(msg, data) {
        if (typeof console !== "undefined") {
          console.log("[PuffStuff] " + msg, data || "");
        }
      }

      // Log initial values from SignalRGB
      log("Initial values received", {
        speed: typeof speed !== "undefined" ? speed : 5,
        colorShift: typeof colorShift !== "undefined" ? colorShift : 1,
        colorScheme:
          typeof colorScheme !== "undefined" ? colorScheme : "Classic Blue",
        effectStyle:
          typeof effectStyle !== "undefined" ? effectStyle : "Standard",
        colorIntensity:
          typeof colorIntensity !== "undefined" ? colorIntensity : 100,
        colorPulse: typeof colorPulse !== "undefined" ? colorPulse : 0,
        motionWave: typeof motionWave !== "undefined" ? motionWave : 0,
        motionReverse: typeof motionReverse !== "undefined" ? motionReverse : 0,
      });

      // No need for complex conversion here - we'll handle it in main.ts

      // Initialize THREE.js (included in the bundle)
      <!-- BUNDLE_SCRIPT_INJECT -->
    </script>
  </body>
</html>
